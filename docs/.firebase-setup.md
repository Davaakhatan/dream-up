# Firebase Hosting Setup Guide

## Prerequisites

1. Install Firebase CLI:
```bash
npm install -g firebase-tools
```

2. Login to Firebase:
```bash
firebase login
```

3. Initialize Firebase (already done - project ID: `qapipeline-7c83d`)

## Project Structure

- **Firebase Hosting**: Serves the static dashboard frontend (`dist/dashboard/public/index.html`)
- **Firebase Functions**: API endpoints (currently placeholder - see note below)

## Important Note About Browser Automation

The dashboard requires browser automation (Playwright/Browserbase) which has limitations in Firebase Functions:
- **Function timeout**: Max 9 minutes (Gen 2) or 60 seconds (Gen 1)
- **Cold starts**: Can be slow for browser automation
- **Memory limits**: May not be sufficient for Playwright

### Recommended Approach

**Option 1: Static Frontend Only (Recommended for now)**
- Deploy only the static frontend to Firebase Hosting
- Run the dashboard server separately (local, Cloud Run, or other service)
- Update API endpoints in `index.html` to point to your server

**Option 2: Full Firebase Setup**
- Host static frontend on Firebase Hosting
- Deploy API to Cloud Run (better for long-running browser automation)
- Use Firebase Functions for simple endpoints only

## Deployment Steps

### 1. Build the project
```bash
npm run build
```

### 2. Deploy to Firebase Hosting (static frontend only)
```bash
npm run firebase:deploy
```

Or deploy everything:
```bash
npm run firebase:deploy:all
```

### 3. Test locally
```bash
npm run firebase:serve
```

## Configuration

The Firebase project ID is set in `.firebaserc`:
```json
{
  "projects": {
    "default": "qapipeline-7c83d"
  }
}
```

## Environment Variables

For the dashboard server (when running separately), set:
- `OPENAI_API_KEY`: Your OpenAI API key
- `BROWSERBASE_API_KEY`: (Optional) Browserbase API key
- `USE_LOCAL_BROWSER`: Set to `true` to use local Playwright
- `SHOW_BROWSER`: Set to `true` to show browser window

## Next Steps

1. **Deploy static frontend**: `npm run firebase:deploy`
2. **Set up API server**: Deploy dashboard server to Cloud Run or run locally
3. **Update API URLs**: In `src/dashboard/public/index.html`, update API endpoints to point to your server
4. **Test**: Visit your Firebase Hosting URL

## Firebase Hosting URL

After deployment, your dashboard will be available at:
```
https://qapipeline-7c83d.web.app
```
or
```
https://qapipeline-7c83d.firebaseapp.com
```

